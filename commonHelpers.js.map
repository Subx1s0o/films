{"version":3,"file":"commonHelpers.js","sources":["../src/js/fetch.js","../src/js/render.js","../main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst filmsAPi = async (searchValue) => {\n  try {\n    const response = await axios.get(\n      `http://www.omdbapi.com/?i=tt3896198&apikey=e9dc5fd8&s=${searchValue}`\n    );\n    return response.data;\n  } catch (error) {\n    console.log(\"Cant make request\", error);\n    errormsg.style.display = \"block\";\n    errormsg.textContent = \"Cant take response :(\";\n  }\n};\n\nexport default filmsAPi;\n","function renderCards(data, list) {\n  console.log(data);\n  const films = data.Search;\n  let li = \"\";\n  films.forEach((film) => {\n    const getRandomInt = Math.ceil(Math.random() * (10 - 5) + 5);\n    li += `<li class=\"card\" data-id=\"${film.imdbID}\">\n              <a href=\"#\" >\n                <img src=\"${film.Poster}\" alt=\"${film.Title}\" />\n              </a>\n              <div class=\"card-description\">\n                <div class=\"splitter\">\n                  <h3 class=\"card-title\">${film.Title}</h3>\n                  <div class=\"split-content\">\n                    <p class=\"card-rating\">\n                      ${getRandomInt}/10\n                      <svg width=\"25\" height=\"25\">\n                        <use href=\"./img/symbol-defs.svg#icon-star\"></use>\n                      </svg>\n                    </p>\n                  </div>\n                </div>\n                <div class=\"description\">\n                  <p>\n                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. \n                    Fugit aliquid enim blanditiis veritatis, iusto sequi obcaecati \n                    totam voluptatibus soluta id doloremque eius officia aperiam numquam \n                    ea ab, iste ipsa deserunt.\n                  </p>\n                </div>\n                <div class=\"splitter\">\n                  <p class=\"card-text\">Country</p>\n                  <p class=\"card-year\">${film.Year}</p>\n                  <p class=\"card-text\">${film.Type}</p>\n                </div>\n              </div>\n            </li>`;\n  });\n\n  list.insertAdjacentHTML(\"beforeend\", li);\n}\n\nexport default renderCards;\n","// const films = fetch(\"http://www.omdbapi.com/?i=tt3896198&apikey=e9dc5fd8\")\n//   .then((data) => {\n//     return data.json();\n//   })\n//   .catch((error) => {\n//     console.log(new Error(\"Не вдалося отримати дані з запиту\", error));\n//   });\n\n// films\n//   .then((data) => {\n//     console.log(data);\n//   })\n//   .catch((error) => console.log(error));\nimport filmsAPi from './src/js/fetch.js';\nimport renderCards from './src/js/render.js';\n\nconst totalSearch = document.querySelector('.totalSearch span');\nconst input = document.querySelector('.input');\nconst list = document.querySelector('.list');\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\nconst errormsg = document.querySelector('.errormsg');\ntotalSearch.textContent = '0';\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  const search = input.value.trim();\n  list.innerHTML = '';\n  input.value = '';\n  loader.style.visibility = 'visible';\n  errormsg.style.display = 'none';\n  filmsAPi(search)\n    .then(data => {\n      if (search !== '' && data.Response === 'True') {\n        loader.style.visibility = 'hidden';\n        totalSearch.textContent = data.totalResults;\n\n        renderCards(data, list);\n      } else {\n        totalSearch.textContent = '0 ';\n        errormsg.style.display = 'block';\n        errormsg.textContent = 'We don`t find the films :(';\n\n        loader.style.visibility = 'hidden';\n      }\n    })\n    .catch(error => {\n      loader.style.visibility = 'hidden';\n      console.log('Cant take response', error);\n      errormsg.style.display = 'block';\n      errormsg.textContent = 'Sorry, check your internet connection! :(';\n    });\n});\n"],"names":["filmsAPi","searchValue","axios","error","renderCards","data","list","films","li","film","getRandomInt","totalSearch","input","form","loader","errormsg","e","search"],"mappings":"svBAEA,MAAMA,EAAW,MAAOC,GAAgB,CACtC,GAAI,CAIF,OAHiB,MAAMC,EAAM,IAC3B,yDAAyDD,CAAW,EAC1E,GACoB,IACjB,OAAQE,EAAO,CACd,QAAQ,IAAI,oBAAqBA,CAAK,EACtC,SAAS,MAAM,QAAU,QACzB,SAAS,YAAc,uBACxB,CACH,ECbA,SAASC,EAAYC,EAAMC,EAAM,CAC/B,QAAQ,IAAID,CAAI,EAChB,MAAME,EAAQF,EAAK,OACnB,IAAIG,EAAK,GACTD,EAAM,QAASE,GAAS,CACtB,MAAMC,EAAe,KAAK,KAAK,KAAK,OAAQ,EAAI,EAAU,CAAC,EAC3DF,GAAM,6BAA6BC,EAAK,MAAM;AAAA;AAAA,4BAEtBA,EAAK,MAAM,UAAUA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,2CAIhBA,EAAK,KAAK;AAAA;AAAA;AAAA,wBAG7BC,CAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAiBKD,EAAK,IAAI;AAAA,yCACTA,EAAK,IAAI;AAAA;AAAA;AAAA,kBAIlD,CAAG,EAEDH,EAAK,mBAAmB,YAAaE,CAAE,CACzC,CCxBA,MAAMG,EAAc,SAAS,cAAc,mBAAmB,EACxDC,EAAQ,SAAS,cAAc,QAAQ,EACvCN,EAAO,SAAS,cAAc,OAAO,EACrCO,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,SAAS,cAAc,WAAW,EACnDJ,EAAY,YAAc,IAE1BE,EAAK,iBAAiB,SAAUG,GAAK,CACnCA,EAAE,eAAc,EAChB,MAAMC,EAASL,EAAM,MAAM,KAAI,EAC/BN,EAAK,UAAY,GACjBM,EAAM,MAAQ,GACdE,EAAO,MAAM,WAAa,UAC1BC,EAAS,MAAM,QAAU,OACzBf,EAASiB,CAAM,EACZ,KAAKZ,GAAQ,CACRY,IAAW,IAAMZ,EAAK,WAAa,QACrCS,EAAO,MAAM,WAAa,SAC1BH,EAAY,YAAcN,EAAK,aAE/BD,EAAYC,EAAMC,CAAI,IAEtBK,EAAY,YAAc,KAC1BI,EAAS,MAAM,QAAU,QACzBA,EAAS,YAAc,6BAEvBD,EAAO,MAAM,WAAa,SAElC,CAAK,EACA,MAAMX,GAAS,CACdW,EAAO,MAAM,WAAa,SAC1B,QAAQ,IAAI,qBAAsBX,CAAK,EACvCY,EAAS,MAAM,QAAU,QACzBA,EAAS,YAAc,2CAC7B,CAAK,CACL,CAAC"}